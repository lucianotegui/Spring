<!DOCTYPE html>
<html
    lang="es"
    xmlns:th="http://www.thymeleaft.org"
>
    <head th:replace="/fragments/head :: head">
    <body>
        <header th:replace="/fragments/header :: header"></header>
        <main class="mt-5 mb-5">
            <div th:replace="/fragments/toast :: div"></div>
            <div class="container">
                <div class="text-center mb-5">
                    <h3 class="card-title">Editar perfil</h3>
                </div>
                <form
                    th:fragment="editarProfesional"
                    th:action="@{/profesional/modificar/__${profesional.email}__}"
                    method="POST"
                    enctype="multipart/form-data"
                >
                    <input
                        hidden
                        th:value="${profesional.id}"
                        name="id"
                    >
                    <div class="row justify-content-center">

                        <div class="col-sm-3 mb-3">
                            <div class="d-flex flex-column">
                                <div class="d-flex justify-content-center">
                                    <div id="contenedor-imagen-formulario">
                                        <label
                                            for="fotoPerfil"
                                            class="etiqueta-icono"
                                        >
                                            <img
                                                th:src="@{/imagen/perfil/__${profesional.id}__}"
                                                alt="Avatar"
                                                class="img-fluid rounded-circle imagen-redonda"
                                                th:if="${profesional.imagen != null}"
                                                id="imagenPerfilFormulario"
                                            >
                                            <img
                                                th:src="@{/assets/avatar.png}"
                                                alt="Avatar"
                                                class="img-fluid rounded-circle imagen-redonda"
                                                th:if="${profesional.imagen == null}"
                                                id="imagenPerfilFormulario"
                                            >
                                            <img
                                                id="imagenPrevia"
                                                alt="Avatar"
                                                class="img-fluid rounded-circle col-sm-8 imagen-redonda d-none"
                                            >
                                            <i class="fa-solid fa-circle-plus fa-2xl" id="icono-modificar"></i>
                                            <input
                                                id="fotoPerfil"
                                                type="file"
                                                class="form-control-file input-imagen"
                                                name="archivo"
                                            >
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-5">
                            <div class="input-group mb-3">
                                <label
                                    for="pacienteNombre"
                                    class="input-group-text"
                                >Nombre</label>
                                <input
                                    type="text"
                                    class="form-control"
                                    name="nombre"
                                    placeholder="Juan"
                                    id="pacienteNombre"
                                    th:value="${profesional.nombre}"
                                    autofocus
                                >
                            </div>
                            <div class="input-group mb-3">
                                <label
                                    for="pacienteApellido"
                                    class="input-group-text"
                                >Apellido</label>
                                <input
                                    type="text"
                                    class="form-control"
                                    name="apellido"
                                    placeholder="Rodriguez"
                                    id="pacienteApellido"
                                    th:value="${profesional.apellido}"
                                >
                            </div>
                            <div class="input-group mb-3 mt-3s">
                                <label
                                    class="input-group-text"
                                    for="pacienteSexo"
                                >Sexo</label>
                                <select
                                    class="form-select"
                                    id="pacienteSexo"
                                    name="sexo"
                                >
                                    <option
                                        th:selected="${profesional.sexo.name == 'MASCULINO'}"
                                        value="MASCULINO"
                                    >Masculino</option>
                                    <option
                                        th:selected="${profesional.sexo.name == 'FEMENINO'}"
                                        value="FEMENINO"
                                    >Femenino</option>
                                    <option
                                        th:selected="${profesional.sexo.name == 'X'}"
                                        value="X"
                                    >X</option>
                                </select>
                            </div>
                            <div class="input-group mb-3">
                                <label
                                    class="input-group-text"
                                    for="pacienteTelefono"
                                >NÂ° de Telefono</label>
                                <input
                                    type="number"
                                    class="form-control"
                                    name="telefono"
                                    placeholder="1123456789"
                                    id="pacienteTelefono"
                                    th:value="${profesional.telefono}"
                                >
                            </div>
                        </div>
                    </div>
                    <div class="row justify-content-center">
                        <div class="col-sm-8 text-center mb-3">
                            <div class="input-group">
                                <label
                                    for="exampleInputDescripcion"
                                    class="input-group-text"
                                >
                                    <b>Descripcion</b>
                                </label>
                                <textarea
                                    type="text"
                                    class="form-control"
                                    name="descripcion"
                                    id="exampleInputDescripcion"
                                    th:value="${profesional.descripcion}"
                                    th:text="${profesional.descripcion}"
                                ></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="row justify-content-center">
                        <div class="col-sm-8 text-end mb-3">
                            <div>
                                <button
                                    type="reset"
                                    class="btn btn-secondary"
                                >Cancelar</button>
                                <button
                                    type="submit"
                                    class="btn btn-primary"
                                >Guardar Cambios</button>
                            </div>

                        </div>
                        <div class="col-sm-8 text-end mb-3">
                            <a
                                th:href="@{/profesional/darBaja/__${profesional.id}__}"
                                class="text-danger fw-bold mt-3"
                            >Darse de baja</a>
                        </div>
                    </div>

                </form>
            </div>
        </main>
        <footer th:replace="/fragments/footer :: footer"></footer>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
            crossorigin="anonymous"
        ></script>
        <script th:src="@{/js/toast.js}"></script>
    </body>

</html>