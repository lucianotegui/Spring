<!DOCTYPE html>
<html
    lang="es"
    xmlns:th="http://www.thymeleaft.org"
>

    <head th:replace="/fragments/head :: head"></head>

    <body>
        <header th:replace="/fragments/header :: header"></header>
        <div th:replace="/fragments/toast :: div"></div>
        <main class="mb-5 mt-5 pb-5 pt-5">
            <h2 class="text-center mt-5">Ingresar</h2>
            <div class="container-sm mt-5 mb-5">
                <form
                    th:action="@{/login}"
                    method="post"
                    id="login"
                >
                    <div class="row justify-content-center">
                        <div class="col-lg-5">
                            <div class="input-group mb-3">
                                <label
                                    for="exampleFormControlInput1"
                                    class="input-group-text"
                                >Email</label>
                                <input
                                    type="email"
                                    class="form-control"
                                    id="exampleFormControlInput1"
                                    placeholder="name@example.com"
                                    name="username"
                                    required
                                >
                            </div>
                        </div>
                    </div>
                    <div class="row justify-content-center">
                        <div class="col-lg-5">
                            <div class="input-group mb-3">
                                <label
                                    for="inputPassword5"
                                    class="input-group-text"
                                >Contraseña</label>
                                <input
                                    type="password"
                                    id="inputPassword5"
                                    class="form-control"
                                    aria-describedby="passwordHelpBlock"
                                    name="password"
                                    required
                                >
                            </div>
                        </div>
                    </div>
                    <div class="row justify-content-center">
                        <div class="col-lg-2 d-grid">
                            <button
                                type="submit"
                                class="btn btn-primary"
                            >
                                Ingresar
                            </button>
                        </div>
                    </div>
                    <div class="row justify-content-center">
                        <div class="col-lg-3 text-center mt-4">
                            <a
                                href="#"
                                data-toggle="modal"
                                data-target="#exampleModalCenter"
                            >
                                Recuperar Contraseña
                            </a>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Button trigger modal -->


            <!-- Modal -->
            <div
                class="modal fade"
                id="exampleModalCenter"
                tabindex="-1"
                role="dialog"
                aria-labelledby="exampleModalCenterTitle"
                aria-hidden="true"
            >
                <div
                    class="modal-dialog modal-dialog-centered"
                    role="document"
                >
                    <div class="modal-content">

                        <div class="modal-header">
                            <h5
                                class="modal-title"
                                id="exampleModalLongTitle"
                            >Recuperar Cuenta</h5>
                            <button
                                type="button"
                                class="btn-close"
                                data-dismiss="modal"
                                aria-label="Close"
                            >
                            </button>
                        </div>
                        <form th:action="@{/recuperarCuenta}" id="recuperar">
                            <div class="modal-body row">
                                <div class="input-group">
                                    <label
                                        for="exampleFormControlInput1"
                                        class="input-group-text"
                                    >Email</label>
                                    <input
                                        type="email"
                                        class="form-control"
                                        id="exampleFormControlInput1"
                                        placeholder="name@example.com"
                                        name="email"
                                    >
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button
                                    type="button"
                                    class="btn btn-secondary"
                                    data-dismiss="modal"
                                >Cancelar</button>
                                <button
                                    type="submit"
                                    class="btn btn-primary"
                                >Recuperar cuenta</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </main>

        <footer th:replace="/fragments/footer :: footer"></footer>
        <div th:replace="/fragments/spinner :: div"></div>

        <script
            src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"
        ></script>
        <script
            src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"
        ></script>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"
        ></script>
        <script th:src="@{/js/toast.js}"></script>
        <script>
            document.getElementById("recuperar").addEventListener("submit", function () {
                document.getElementById("exampleModalCenter").style.display = "none";
                document.getElementById("spinner").style.display = "flex";
            });
            document.getElementById("login").addEventListener("submit", function () {
                document.getElementById("spinner").style.display = "flex";
            });
        </script>
    </body>

</html>